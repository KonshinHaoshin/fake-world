# 设置页面 - 用户切换功能

## 功能说明

这个设置页面实现了仿微信应用中的用户切换功能，允许用户：

1. **查看当前用户信息** - 显示当前登录用户的头像、昵称等信息
2. **添加新用户** - 创建新的用户账号
3. **切换用户** - 在不同用户账号之间切换
4. **退出登录** - 退出当前用户，回到默认用户

## 使用方法

### 访问设置页面
1. 在微信应用中，点击底部导航栏的"我"
2. 在"我"页面中，点击"设置"选项
3. 进入设置页面

### 添加新用户
1. 在设置页面中，点击"添加新用户"
2. 在弹出的对话框中填写：
   - 昵称（必填）
   - 微信号（必填）
   - 头像URL（可选）
3. 点击"添加"按钮完成创建

### 切换用户
1. 在设置页面的"其他用户"列表中，找到要切换的用户
2. 点击该用户行，会弹出确认对话框
3. 确认后，系统会切换到该用户账号

### 退出登录
1. 在设置页面的当前用户信息区域，点击"退出"按钮
2. 确认退出后，系统会回到默认用户账号

## 技术实现

### 状态管理
- 使用 Jotai 进行状态管理
- `activeUserIdAtom` 管理当前活跃用户ID
- `allProfilesAtom` 管理所有用户信息

### 数据存储
- 用户数据存储在浏览器的 localStorage 中
- 支持多用户数据隔离

### 路由配置
- 设置页面路由：`/wechat/my/settings`
- 已添加到快速跳转选择器中

## 注意事项

1. 用户切换功能会重新加载页面以应用新用户的数据
2. 所有用户数据都存储在本地，不会上传到服务器
3. 添加新用户时，昵称和微信号为必填项
4. 退出登录会回到默认用户账号

## 未来改进

1. 实现更平滑的用户切换，避免页面重新加载
2. 添加用户数据导入/导出功能
3. 实现用户权限管理
4. 添加用户头像上传功能
5. 实现用户数据同步功能 